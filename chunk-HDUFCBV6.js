import{a as q,b as g,c as N,d as z,e as $,g as C,i as G,j as V,k as I,l as D,m as B,p as Z,q as L,s as U}from"./chunk-PCBBLDBJ.js";import{H as d,I as m,J as b,K as M,L as O,M as _,N as o,O as i,P as p,Q as R,R as P,S as f,V as a,a as h,b as v,c as E,ka as T,n as w,o as F,ra as A,v as s,x as S,y as k}from"./chunk-6WTTME43.js";function H(e,r){e&1&&(o(0,"small",19),a(1,"Name can only contain letters."),i())}function J(e,r){e&1&&(o(0,"small",19),a(1,"Name is required."),i())}function K(e,r){e&1&&(o(0,"small",19),a(1,"Name must be at least 3 characters"),i())}function Q(e,r){if(e&1&&(d(0,H,2,0,"small",19),d(1,J,2,0,"small",19),d(2,K,2,0,"small",19)),e&2){let n,t,l,c=f();m((n=c.registerForm.get("name"))!=null&&n.getError("pattern")?0:-1),s(),m((t=c.registerForm.get("name"))!=null&&t.getError("required")?1:-1),s(),m((l=c.registerForm.get("name"))!=null&&l.getError("minlength")?2:-1)}}function W(e,r){e&1&&(o(0,"small",19),a(1,"Email is required"),i())}function X(e,r){e&1&&(o(0,"small",19),a(1,"Email address is invalid"),i())}function Y(e,r){if(e&1&&(d(0,W,2,0,"small",19),d(1,X,2,0,"small",19)),e&2){let n,t,l=f();m((n=l.registerForm.get("email"))!=null&&n.getError("required")?0:-1),s(),m((t=l.registerForm.get("email"))!=null&&t.getError("pattern")?1:-1)}}function ee(e,r){e&1&&(o(0,"small",19),a(1,"Username is required"),i())}function te(e,r){e&1&&(o(0,"small",19),a(1,"Username must not contain spaces"),i())}function ne(e,r){if(e&1&&(d(0,ee,2,0,"small",19),d(1,te,2,0,"small",19)),e&2){let n,t,l=f();m((n=l.registerForm.get("username"))!=null&&n.getError("required")?0:-1),s(),m((t=l.registerForm.get("username"))!=null&&t.getError("pattern")?1:-1)}}function re(e,r){e&1&&(o(0,"small",19),a(1,"Password is required"),i())}function ie(e,r){e&1&&(o(0,"small",19),a(1,"Password must be at least 8 characters, "),p(2,"br"),a(3," include an uppercase letter, a number, and a special character(*@%$#)."),i())}function oe(e,r){if(e&1&&(d(0,re,2,0,"small",19),d(1,ie,4,0,"small",19)),e&2){let n,t,l=f();m((n=l.registerForm.get("password"))!=null&&n.getError("required")?0:-1),s(),m((t=l.registerForm.get("password"))!=null&&t.getError("pattern")?1:-1)}}function ae(e,r){e&1&&(o(0,"small",19),a(1,"Confirm Password is required"),i())}function le(e,r){e&1&&(o(0,"small",19),a(1,"Passwords do not match"),i())}function se(e,r){if(e&1&&d(0,ae,2,0,"small",19)(1,le,2,0,"small",19),e&2){let n,t=f();m((n=t.registerForm.get("confirmPassword"))!=null&&n.getError("required")?0:(n=t.registerForm.get("confirmPassword"))!=null&&n.value&&((n=t.registerForm.get("confirmPassword"))!=null&&n.getError("passwordMismatch"))?1:-1)}}function de(e,r){if(e&1){let n=R();o(0,"div",14),p(1,"input",20)(2,"input",21)(3,"input",22)(4,"input",23),o(5,"button",24),P("click",function(){let l=w(n).$index,c=f();return F(c.removeAddress(l))}),a(6," Delete "),i()()}if(e&2){let n=r.$index,t=f();_("formGroupName",n),s(),_("readonly",n!==t.addresses.length-1),s(),_("readonly",n!==t.addresses.length-1),s(),_("readonly",n!==t.addresses.length-1),s(),_("readonly",n!==t.addresses.length-1),s(),_("disabled",t.addresses.length===1)}}function me(e,r){e&1&&(o(0,"small",19),a(1,"Address is required"),i())}function ce(e,r){e&1&&(o(0,"small",19),a(1,"Street is required"),i())}function ge(e,r){e&1&&(o(0,"small",19),a(1,"City is required"),i())}function ue(e,r){e&1&&(o(0,"small",19),a(1,"Country is required"),i())}function _e(e,r){if(e&1&&(d(0,me,2,0,"small",19),d(1,ce,2,0,"small",19),d(2,ge,2,0,"small",19),d(3,ue,2,0,"small",19)),e&2){let n,t,l,c,u=r.$implicit;m((n=u.get("address"))!=null&&n.dirty&&((n=u.get("address"))!=null&&n.getError("required"))?0:-1),s(),m((t=u.get("street"))!=null&&t.dirty&&((t=u.get("street"))!=null&&t.getError("required"))?1:-1),s(),m((l=u.get("city"))!=null&&l.dirty&&((l=u.get("city"))!=null&&l.getError("required"))?2:-1),s(),m((c=u.get("country"))!=null&&c.dirty&&((c=u.get("country"))!=null&&c.getError("required"))?3:-1)}}function pe(){return e=>{let r=e.get("password"),n=e.get("confirmPassword");if(!r||!n)return null;let t=r.value!==n.value,l=n.errors||{};if(t)return n.setErrors(v(h({},l),{passwordMismatch:!0})),{passwordMismatch:!0};if("passwordMismatch"in l){let c=l,{passwordMismatch:u}=c,x=E(c,["passwordMismatch"]);n.setErrors(Object.keys(x).length?x:null)}return null}}var j=class e{constructor(r){this.fb=r}registerForm;submitted=!1;get addresses(){return this.registerForm.get("addresses")}ngOnInit(){this.registerForm=new $({name:new C("",[g.required,g.pattern(/^[A-Za-z\s]+$/),g.minLength(3)]),email:new C("",[g.required,g.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]),username:new C("",[g.required,g.pattern(/^\S+$/)]),password:new C("",[g.required,g.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\*@%$#]).{8,}$/)]),confirmPassword:new C("",g.required),addresses:new Z([this.createAddressGroup()])},{validators:pe()})}createAddressGroup(){return this.fb.group({address:["",g.required],street:["",g.required],city:["",g.required],country:["",g.required]})}addAddress(){this.addresses.push(this.createAddressGroup())}removeAddress(r){this.addresses.length>1&&this.addresses.removeAt(r)}onSubmit(){if(this.submitted=!0,this.addresses.controls.forEach(r=>{r.get("address")?.markAsTouched(),r.get("street")?.markAsTouched(),r.get("city")?.markAsTouched(),r.get("country")?.markAsTouched()}),!this.registerForm.invalid){for(console.log(this.registerForm.value),alert("Registration successful!"),this.registerForm.reset();this.addresses.length>1;)this.addresses.removeAt(0);this.addresses.at(0).reset(),this.submitted=!1}}static \u0275fac=function(n){return new(n||e)(S(L))};static \u0275cmp=k({type:e,selectors:[["app-register"]],decls:49,vars:8,consts:[[1,"register-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","name","name","type","text","formControlName","name"],["for","email"],["id","email","name","email","type","email","formControlName","email"],["for","username"],["id","username","name","username","type","text","formControlName","username"],["for","password"],["id","password","name","password","type","password","formControlName","password"],["for","confirmPassword"],["id","confirmPassword","name","confirmPassword","type","password","formControlName","confirmPassword"],["formArrayName","addresses"],[2,"display","flex","gap","8px","align-items","flex-start","margin-bottom","8px",3,"formGroupName"],["type","button",1,"address-btn",3,"click","disabled"],[1,"register-btn",3,"disabled"],[1,"login-link"],["routerLink","/login"],[1,"error-message"],["type","text","formControlName","address","placeholder","Address",3,"readonly"],["type","text","formControlName","street","placeholder","Street",3,"readonly"],["type","text","formControlName","city","placeholder","City",3,"readonly"],["type","text","formControlName","country","placeholder","Country",3,"readonly"],["type","button",1,"delete-btn",3,"click","disabled"]],template:function(n,t){if(n&1&&(o(0,"section")(1,"div",0)(2,"h2"),a(3,"Register"),i(),o(4,"p"),a(5,"Please fill in this form to create an account."),i(),o(6,"form",1),P("ngSubmit",function(){return t.onSubmit()}),o(7,"div",2)(8,"label",3),a(9,"Name"),i(),p(10,"input",4),d(11,Q,3,3),i(),o(12,"div",2)(13,"label",5),a(14,"Email"),i(),p(15,"input",6),d(16,Y,2,2),i(),o(17,"div",2)(18,"label",7),a(19,"User Name"),i(),p(20,"input",8),d(21,ne,2,2),i(),o(22,"div",2)(23,"label",9),a(24,"Password"),i(),p(25,"input",10),d(26,oe,2,2),i(),o(27,"div",2)(28,"label",11),a(29,"Confirm Password"),i(),p(30,"input",12),d(31,se,2,1),i(),o(32,"div",2)(33,"label"),a(34,"Address"),i(),o(35,"div",13),M(36,de,7,6,"div",14,b),i(),o(38,"button",15),P("click",function(){return t.addAddress()}),a(39," Add address "),i(),M(40,_e,4,4,null,null,b),i(),o(42,"button",16),a(43," Register "),i()()(),o(44,"div",17)(45,"span"),a(46,"Already have account! "),o(47,"a",18),a(48,"login"),i()()()()),n&2){let l,c,u,x,y;s(6),_("formGroup",t.registerForm),s(5),m(t.submitted||(l=t.registerForm.get("name"))!=null&&l.dirty?11:-1),s(5),m(t.submitted||(c=t.registerForm.get("email"))!=null&&c.dirty?16:-1),s(5),m(t.submitted||(u=t.registerForm.get("username"))!=null&&u.dirty?21:-1),s(5),m(t.submitted||(x=t.registerForm.get("password"))!=null&&x.dirty?26:-1),s(5),m(t.submitted||(y=t.registerForm.get("confirmPassword"))!=null&&y.dirty?31:-1),s(5),O(t.addresses.controls),s(2),_("disabled",t.addresses.length>0&&!t.addresses.at(t.addresses.length-1).valid),s(2),O(t.addresses.controls),s(2),_("disabled",!t.registerForm.valid)}},dependencies:[U,G,q,N,z,V,B,I,D,T,A],styles:[".register-container[_ngcontent-%COMP%]{width:40%;margin:40px auto;padding:32px 24px;border:1px solid #eee;border-radius:12px;background:#fff}.register-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px;text-align:left}.register-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:24px;color:#444}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:18px}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:6px}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%;margin-top:2px;padding:10px;border:1.5px solid #ccc;border-radius:6px;font-size:16px;transition:border .2s}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:2px solid #2196f3;outline:none}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.ng-invalid.ng-dirty[_ngcontent-%COMP%]{border:2px solid #c62828}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.ng-valid.ng-dirty[_ngcontent-%COMP%]{border:2px solid #4caf50}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[name=confirmPassword].ng-dirty.ng-invalid[_ngcontent-%COMP%]{border:2px solid #c62828}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%], .register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   small.error-message[_ngcontent-%COMP%]{color:#c62828;font-size:14px;margin-top:4px;display:block}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]{width:100%;background:#2196f3;color:#fff;border:none;border-radius:6px;padding:12px 0;font-size:18px;cursor:pointer;margin-top:10px;transition:background .2s}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]:hover{background:#1976d2}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .address-btn[_ngcontent-%COMP%]{background:#2196f3;color:#fff;border:none;border-radius:6px;padding:8px 18px;font-size:16px;cursor:pointer;margin-top:8px;margin-bottom:8px;transition:background .2s}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .address-btn[_ngcontent-%COMP%]:hover{background:#1976d2}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .address-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background:#fff;color:#c62828;border:2px solid #c62828;border-radius:6px;padding:6px 14px;font-size:15px;cursor:pointer;margin-left:8px;margin-top:0;margin-bottom:0;transition:background .2s,color .2s}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background:#c62828;color:#fff}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.login-link[_ngcontent-%COMP%]{text-align:center;margin:48px 0}.login-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem}.login-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:underline;color:#000;margin-left:4px}.login-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2196f3}"]})};export{j as Register};
