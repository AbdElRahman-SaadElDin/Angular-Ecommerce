import{a as Q}from"./chunk-UYRZWSBY.js";import{a as T}from"./chunk-UGMLWX3L.js";import{a as q}from"./chunk-JXUMRTRX.js";import{$ as w,D as O,H as _,I as x,J as P,K as v,L as y,M as b,N as n,O as o,P as p,Q as M,R as C,S as d,V as r,W as s,X as l,_ as S,aa as I,ba as E,ja as z,n as u,o as g,oa as D,u as h,v as a,x as f,y as k}from"./chunk-6WTTME43.js";var j=(e,i,t)=>({"stock-green":e,"stock-red":i,"stock-orange":t});function N(e,i){e&1&&p(0,"div",26)}function R(e,i){if(e&1&&p(0,"img",27),e&2){let t=i.$implicit,c=d(3);b("src",t,h)("alt",c.product.title)}}function A(e,i){if(e&1&&v(0,R,1,2,"img",27,P),e&2){let t=d(2);y(t.product.images)}}function B(e,i){if(e&1&&(n(0,"span",12),r(1),w(2,"discountedPrice"),o()),e&2){let t=d(2);a(),l(" $",I(2,1,t.product.price,t.product.discountPercentage)," ")}}function F(e,i){if(e&1&&(n(0,"button",16),r(1),o()),e&2){let t=i.$implicit;a(),s(t)}}function $(e,i){if(e&1){let t=M();n(0,"section",1)(1,"div",2),p(2,"img",3),O(3,N,1,0,"ng-template",null,0,E),n(5,"div",4),_(6,A,2,0),o()(),n(7,"div",5)(8,"h1"),r(9),o(),n(10,"p",6),r(11),o(),n(12,"div",7)(13,"span",8),r(14),o(),n(15,"span",9),r(16),o()(),n(17,"div",10)(18,"span",11),r(19),o(),_(20,B,3,4,"span",12),o(),n(21,"p",13),r(22),o(),n(23,"div",14),r(24),o(),n(25,"div",15),v(26,F,2,1,"button",16,P),o(),n(28,"div",17)(29,"button",18),C("click",function(){u(t);let m=d();return g(m.decreaseQty())}),r(30,"-"),o(),n(31,"span",19),r(32),o(),n(33,"button",18),C("click",function(){u(t);let m=d();return g(m.increaseQty())}),r(34,"+"),o(),n(35,"span",20),r(36,"Only "),n(37,"span",21),r(38),o(),r(39," Left!"),p(40,"br"),n(41,"span",22),r(42,"Don't miss it"),o()()(),n(43,"div",23)(44,"button",24),r(45,"Buy Now"),o(),n(46,"button",25),C("click",function(){u(t);let m=d();return g(m.toggleCart())}),r(47),o()()()()}if(e&2){let t=d();a(2),b("src",t.product.thumbnail,h)("alt",t.product.title),a(4),x(t.product.images.length?6:-1),a(3),s(t.product.title),a(2),s(t.product.description),a(3),s(t.stars),a(2),l("(",t.product.rating,")"),a(3),l("$",t.product.price),a(),x(t.product.discountPercentage?20:-1),a(2),s(t.product.brand),a(),b("ngClass",S(15,j,t.product.availabilityStatus==="In Stock",t.product.availabilityStatus==="Out Of Stock",t.product.availabilityStatus==="Low Stock")),a(),l(" ",t.product.availabilityStatus," "),a(2),y(t.product.tags),a(6),s(t.getQty()),a(6),l("",t.product.stock," Items"),a(9),l(" ",t.isInCart()?"Remove from Cart":"Add to Cart"," ")}}function H(e,i){e&1&&(n(0,"section")(1,"p"),r(2,"Loading..."),o()())}var V=class e{constructor(i,t,c){this.http=i;this.route=t;this.cartService=c}product=null;ngOnInit(){let i=Number(this.route.snapshot.paramMap.get("id"));i?this.http.getProducts().subscribe(t=>{this.product=t.products.find(c=>c.id===i),this.product||console.error("Product not found for id:",i)}):console.error("No id param found in route")}get stars(){return"\u2605\u2605\u2605\u2605\u2605".slice(0,Math.round(this.product?.rating||0))}isInCart(){return!!this.product&&this.cartService.cartItems().some(i=>i.id===this.product.id)}toggleCart(){this.product&&this.cartService.addToCart(this.product)}increaseQty(){this.product&&(this.isInCart()?this.cartService.increaseQuantity(this.product.id):this.cartService.addToCart(this.product))}decreaseQty(){this.product&&this.isInCart()&&this.cartService.decreaseQuantity(this.product.id)}getQty(){if(this.product){let i=this.cartService.cartItems().find(t=>t.id===this.product.id);return i?i.quantity:0}return 0}static \u0275fac=function(t){return new(t||e)(f(Q),f(D),f(q))};static \u0275cmp=k({type:e,selectors:[["app-product-details"]],decls:2,vars:1,consts:[["noImg",""],[1,"product-details"],[1,"product-details__gallery"],[1,"main-img",3,"src","alt"],[1,"thumbs"],[1,"product-details__info"],[1,"desc"],[1,"rating"],[1,"stars"],[1,"reviews"],[1,"price"],[1,"main-price"],[1,"discount-price"],[1,"brand"],[1,"stock","in-stock",3,"ngClass"],[1,"more-info"],[1,"info-btn"],[1,"quantity-row"],[1,"qty-btn",3,"click"],[1,"qty"],[1,"items-left"],[1,"items"],[1,"warn"],[1,"actions"],[1,"buy-now"],[1,"add-cart",3,"click"],[1,"main-img","no-img"],[3,"src","alt"]],template:function(t,c){t&1&&_(0,$,48,19,"section",1)(1,H,3,0,"section"),t&2&&x(c.product?0:1)},dependencies:[T,z],styles:[".product-details[_ngcontent-%COMP%]{display:flex;gap:3rem;max-width:1100px;margin:2rem auto;background:#fff;border-radius:16px;padding:2.5rem 2rem;box-shadow:0 2px 16px #00000012}.product-details__gallery[_ngcontent-%COMP%]{flex:1.2;display:flex;flex-direction:column;align-items:center}.main-img[_ngcontent-%COMP%]{width:400px;height:400px;object-fit:contain;border-radius:12px;background:#f7f7f7;margin-bottom:1.5rem}.main-img.no-img[_ngcontent-%COMP%]{background:#f5f5f5;width:400px;height:400px;border-radius:12px;display:flex;align-items:center;justify-content:center;color:#bbb;font-size:2rem;border:1px solid #eee}.thumbs[_ngcontent-%COMP%]{display:flex;gap:1rem}.thumbs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:contain;border-radius:8px;background:#f7f7f7;cursor:pointer;border:2px solid transparent;transition:border .2s}.thumbs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{border:2px solid #0a3d2c}.product-details__info[_ngcontent-%COMP%]{flex:1.5;display:flex;flex-direction:column;gap:1.2rem}.product-details__info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;margin-bottom:.5rem}.desc[_ngcontent-%COMP%]{color:#666;font-size:1.1rem;margin-bottom:.5rem}.rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#1a8917;font-size:1.1rem;font-weight:600}.stars[_ngcontent-%COMP%]{color:#1a8917;font-size:1.2rem}.reviews[_ngcontent-%COMP%]{color:#888;font-size:1rem}.price[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin:.5rem 0}.main-price[_ngcontent-%COMP%]{color:#222;text-decoration:line-through}.monthly[_ngcontent-%COMP%]{color:#888;font-size:1.1rem;margin-left:.5rem}.financing[_ngcontent-%COMP%]{color:#888;font-size:1rem;margin-bottom:.5rem}.stock.in-stock[_ngcontent-%COMP%]{color:#fff;display:inline-block;padding:.2rem 1rem;border-radius:8px;font-size:1rem;font-weight:600;margin-bottom:.5rem}.more-info[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:.5rem}.info-btn[_ngcontent-%COMP%]{background:#f5f5f5;border:none;border-radius:6px;padding:.5rem 1.2rem;font-size:1rem;color:#333;cursor:pointer;font-weight:500;transition:background .2s}.info-btn[_ngcontent-%COMP%]:hover{background:#e0e0e0}.quantity-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:.5rem}.qty-btn[_ngcontent-%COMP%]{width:36px;height:36px;border:none;border-radius:8px;background:#e5e5e5;color:#222;font-size:1.3rem;cursor:pointer;font-weight:700;transition:background .2s}.qty-btn[_ngcontent-%COMP%]:active{background:#ccc}.qty[_ngcontent-%COMP%]{display:inline-block;min-width:28px;text-align:center;font-size:1.2rem;font-weight:600}.items-left[_ngcontent-%COMP%]{color:#c00;font-size:1.1rem;font-weight:500}.items[_ngcontent-%COMP%]{color:#e67e22;font-weight:700}.warn[_ngcontent-%COMP%]{color:#c00;font-size:.95rem}.actions[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-top:1.2rem}.buy-now[_ngcontent-%COMP%]{background:#0a3d2c;color:#fff;border:none;border-radius:8px;padding:.8rem 2.2rem;font-size:1.1rem;font-weight:700;cursor:pointer;transition:background .2s}.buy-now[_ngcontent-%COMP%]:hover{background:#146c43}.add-cart[_ngcontent-%COMP%]{background:#fff;color:#0a3d2c;border:2px solid #0a3d2c;border-radius:8px;padding:.8rem 2.2rem;font-size:1.1rem;font-weight:700;cursor:pointer;transition:background .2s,color .2s}.add-cart[_ngcontent-%COMP%]:hover{background:#0a3d2c;color:#fff}.stock-green[_ngcontent-%COMP%]{background:#2ecc40;color:#fff;padding:.25em .75em;border-radius:6px}.stock-red[_ngcontent-%COMP%]{background:#e74c3c;color:#fff;padding:.25em .75em;border-radius:6px}.stock-orange[_ngcontent-%COMP%]{background:#ff9800;color:#fff;padding:.25em .75em;border-radius:6px}"]})};export{V as ProductDetails};
