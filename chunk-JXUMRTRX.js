import{a as n,b as s,ea as u,j as o,q as d}from"./chunk-6WTTME43.js";var m=class c{cartItems=d([]);cartCount=u(()=>this.cartItems().reduce((e,t)=>e+t.quantity,0));addToCart(e){let t=this.cartItems();t.findIndex(i=>i.id===e.id)>-1?this.cartItems.set(t.filter(i=>i.id!==e.id)):this.cartItems.set([...t,s(n({},e),{quantity:1})])}increaseQuantity(e){this.cartItems.update(t=>{let r=t.findIndex(a=>a.id===e);if(r===-1)return t;let i=t[r];return i.quantity>=i.stock?(alert("Cannot exceed available stock!"),t):t.map((a,f)=>f===r?s(n({},a),{quantity:a.quantity+1}):a)})}decreaseQuantity(e){this.cartItems.update(t=>t.map(r=>r.id===e?s(n({},r),{quantity:r.quantity-1}):r).filter(r=>r.quantity>0))}removeFromCart(e){this.cartItems.set(this.cartItems().filter(t=>t.id!==e))}static \u0275fac=function(t){return new(t||c)};static \u0275prov=o({token:c,factory:c.\u0275fac,providedIn:"root"})};export{m as a};
