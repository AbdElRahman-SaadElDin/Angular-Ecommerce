import{a as C}from"./chunk-UGMLWX3L.js";import{a as O}from"./chunk-JXUMRTRX.js";import{$ as y,K as v,L as P,M as S,N as e,O as n,P as _,Q as k,R as p,S as u,V as i,W as x,X as g,aa as M,n as d,o as s,qa as w,u as b,v as c,x as f,y as h}from"./chunk-6WTTME43.js";var q=(m,r)=>r.id;function z(m,r){if(m&1){let t=k();e(0,"tr")(1,"td",4),p("click",function(){let a=d(t).$implicit,l=u();return s(l.goToDetails(a.id))}),_(2,"img",5),n(),e(3,"td")(4,"strong"),i(5),n(),_(6,"br"),e(7,"span",6),i(8),n()(),e(9,"td",7)(10,"button",8),p("click",function(){let a=d(t).$implicit,l=u();return s(l.cartService.increaseQuantity(a.id))}),i(11," + "),n(),e(12,"span",9),i(13),n(),e(14,"button",10),p("click",function(){let a=d(t).$implicit,l=u();return s(l.cartService.decreaseQuantity(a.id))}),i(15," - "),n()(),e(16,"td")(17,"button",11),p("click",function(){let a=d(t).$implicit,l=u();return s(l.cartService.removeFromCart(a.id))}),i(18," \xD7 "),n()(),e(19,"td",12),i(20),y(21,"discountedPrice"),n()()}if(m&2){let t=r.$implicit;c(2),S("src",t.thumbnail,b)("alt",t.title),c(3),x(t.title),c(3),g("Product Code: ",t.sku||t.id),c(5),x(t.quantity),c(7),g("\xA3",M(21,6,t.price,t.discountPercentage)*t.quantity)}}var E=class m{constructor(r,t){this.cartService=r;this.router=t}total(){return this.cartService.cartItems().reduce((r,t)=>{let o=new C().transform(t.price,t.discountPercentage);return r+o*t.quantity},0)}goToDetails(r){this.router.navigate(["/product",r])}static \u0275fac=function(t){return new(t||m)(f(O),f(w))};static \u0275cmp=h({type:m,selectors:[["app-cart-container"]],decls:23,vars:1,consts:[[1,"cart-container"],[1,"cart-table"],[1,"cart-total"],[1,"total-price"],[2,"cursor","pointer",3,"click"],[1,"cart-img",3,"src","alt"],[1,"product-code"],[1,"quantity-cell"],[1,"qty-btn","plus",3,"click"],[1,"qty"],[1,"qty-btn","minus",3,"click"],[1,"remove-btn",3,"click"],[1,"price"]],template:function(t,o){t&1&&(e(0,"section",0)(1,"h1"),i(2,"Cart"),n(),e(3,"table",1)(4,"thead")(5,"tr"),_(6,"th"),e(7,"th"),i(8,"Description"),n(),e(9,"th"),i(10,"Quantity"),n(),e(11,"th"),i(12,"Remove"),n(),e(13,"th"),i(14,"Price"),n()()(),e(15,"tbody"),v(16,z,22,9,"tr",null,q),n()(),e(18,"div",2)(19,"span"),i(20,"Total"),n(),e(21,"span",3),i(22),n()()()),t&2&&(c(16),P(o.cartService.cartItems()),c(6),g("\xA3",o.total()))},dependencies:[C],styles:[".cart-container[_ngcontent-%COMP%]{max-width:900px;margin:2rem auto;background:#fff;padding:2rem;border-radius:12px;box-shadow:0 2px 12px #0000000f}.cart-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:2rem;font-weight:700}.cart-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:2rem}.cart-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .cart-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:1rem .5rem;border-bottom:1px solid #eee}.cart-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#888;font-weight:500;font-size:1rem}.cart-img[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;border-radius:8px;background:#f5f5f5}.product-code[_ngcontent-%COMP%]{color:#aaa;font-size:.95rem}.qty-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;border-radius:6px;background:#e5e5e5;color:#222;font-size:1.2rem;cursor:pointer;margin:0 6px;transition:background .2s}.qty-btn.plus[_ngcontent-%COMP%]{background:#0a3d2c;color:#fff}.qty-btn[_ngcontent-%COMP%]:active{background:#ccc}.qty[_ngcontent-%COMP%]{display:inline-block;min-width:24px;text-align:center;font-size:1.1rem}.remove-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #eee;border-radius:6px;color:#888;font-size:1.3rem;width:32px;height:32px;cursor:pointer;transition:background .2s,color .2s}.remove-btn[_ngcontent-%COMP%]:hover{background:#f8d7da;color:#c00}.price[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.cart-total[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:2rem;font-size:1.2rem;font-weight:600;margin-top:1.5rem;padding-top:1rem;border-top:2px solid #eee}.total-price[_ngcontent-%COMP%]{font-size:1.4rem;color:#0a3d2c}"]})};export{E as CartContainer};
